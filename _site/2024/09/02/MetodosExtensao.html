<p>Às vezes, no nosso jogo, existem “funções” que precisamos utilizar em vários scripts diferentes. Ao invés de ter uma cópia dessa função em cada classe que precisa utilizá-la, podemos fazer uso de helper classes.</p>

<p>Uma helper Class é uma classe estática (pode ser chamada de qualquer parte do código) que guarda esse tipo de função que é útil em vários cenários.</p>

<p>O Código a seguir implementa uma helper class com uma função que eleva um número ao quadrado e o divide por 3</p>

<figure class="highlight"><pre><code class="language-c#" data-lang="c#"><span class="k">public</span> <span class="k">static</span> <span class="k">class</span> <span class="nc">Helpers</span> <span class="c1">// note que essa classe não herda de MonoBehaviour</span>
<span class="p">{</span>
	<span class="k">public</span> <span class="k">static</span> <span class="kt">float</span> <span class="nf">SquareAndCut3</span><span class="p">(</span><span class="kt">float</span> <span class="n">x</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="k">return</span> <span class="n">x</span> <span class="p">*</span> <span class="n">x</span> <span class="p">/</span> <span class="m">3</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>Essa função pode então ser utilizada em outras classes:</p>

<figure class="highlight"><pre><code class="language-c#" data-lang="c#"><span class="k">public</span> <span class="k">class</span> <span class="nc">MinhaClasse</span> <span class="p">:</span> <span class="n">MonoBehaviour</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">a</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
	<span class="k">void</span> <span class="nf">Update</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="n">Debug</span><span class="p">.</span><span class="nf">Log</span><span class="p">(</span><span class="n">Helpers</span><span class="p">.</span><span class="nf">SquareAndCut3</span><span class="p">(</span><span class="n">a</span><span class="p">));</span>
		<span class="n">a</span><span class="p">++;</span>
		<span class="c1">// Imprime ao console o resultado da equação todo frame e incrementa o valor de entrada</span>
	<span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>Uma ideia similar à de Helper Classes é Extension Classes.</p>

<p>Nós não temos acesso ao código das classes já presentes no Unity (ex.: Transform, AudioSource, Vector3), porém existem situações em que seria conveniente adicionar uma função à uma dessas classes.</p>

<p>Por exemplo, você pode achar que caso queira rotacionar um Vector2 em um ângulo específico, deve existir uma função Vector2.Rotate(angulo), porém essa função não existe.
Uma solução para isso seria implementar uma função RotateVector2() numa helper class, porém há uma solução mais elegante utilizando uma classe de extenção.:</p>

<figure class="highlight"><pre><code class="language-c#" data-lang="c#"><span class="k">public</span> <span class="k">static</span> <span class="k">class</span> <span class="nc">ExtensionMethods</span>
<span class="p">{</span>

	<span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Rotate</span><span class="p">(</span><span class="k">this</span> <span class="n">Vector2</span> <span class="n">vec</span><span class="p">,</span> <span class="kt">float</span> <span class="n">delta</span><span class="p">)</span> 	<span class="c1">// O termo 'this' no primeiro argumento define que isso é uma extensão da classe Vector2</span>
	<span class="p">{</span>
		<span class="n">vec</span> <span class="p">=</span>  <span class="k">new</span> <span class="nf">Vector2</span><span class="p">(</span>
			<span class="n">vec</span><span class="p">.</span><span class="n">x</span> <span class="p">*</span> <span class="n">Mathf</span><span class="p">.</span><span class="nf">Cos</span><span class="p">(</span><span class="n">delta</span><span class="p">)</span> <span class="p">-</span> <span class="n">vec</span><span class="p">.</span><span class="n">y</span> <span class="p">*</span> <span class="n">Mathf</span><span class="p">.</span><span class="nf">Sin</span><span class="p">(</span><span class="n">delta</span><span class="p">),</span>
			<span class="n">vec</span><span class="p">.</span><span class="n">x</span> <span class="p">*</span> <span class="n">Mathf</span><span class="p">.</span><span class="nf">Sin</span><span class="p">(</span><span class="n">delta</span><span class="p">)</span> <span class="p">+</span> <span class="n">vec</span><span class="p">.</span><span class="n">y</span> <span class="p">*</span> <span class="n">Mathf</span><span class="p">.</span><span class="nf">Cos</span><span class="p">(</span><span class="n">delta</span><span class="p">)</span>
		<span class="p">);</span>
	<span class="p">}</span>


<span class="p">}</span></code></pre></figure>

<p>Podemos então usar a função da seguinte forma:</p>

<figure class="highlight"><pre><code class="language-c#" data-lang="c#"><span class="k">public</span> <span class="k">class</span> <span class="nc">MinhaClasse</span> <span class="p">:</span> <span class="n">MonoBehaviour</span>
<span class="p">{</span>
	<span class="n">Vector2</span> <span class="n">v</span><span class="p">;</span>
	<span class="kt">float</span> <span class="n">angulo</span> <span class="p">=</span> <span class="m">3.14159f</span><span class="p">;</span>
	
 	<span class="k">void</span> <span class="nf">Start</span><span class="p">()</span>
 	<span class="p">{</span>
 		<span class="n">v</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Vector2</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>
 		<span class="n">v</span><span class="p">.</span><span class="nf">Rotate</span><span class="p">(</span><span class="n">angulo</span><span class="p">);</span>	<span class="c1">// o primeiro argumento da função é o próprio vetor, não é necessário especificá-lo</span>
 		<span class="n">Debug</span><span class="p">.</span><span class="nf">Log</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
 		<span class="c1">// =&gt; (-1, 0)</span>
 	<span class="p">}</span>
<span class="p">}</span></code></pre></figure>

